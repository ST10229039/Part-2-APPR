@{
    ViewData["Title"] = "Thank You for Your Donation";
}

<div class="row justify-content-center">
    <div class="col-lg-8 text-center">
        <!-- Success Animation -->
        <div class="mb-5">
            <div class="success-animation mb-4">
                <i class="fas fa-check-circle text-success" style="font-size: 5rem;"></i>
            </div>
            <h1 class="display-5 text-success mb-3">Thank You for Your Generosity!</h1>
            <p class="lead text-muted mb-4">Your donation will make a real difference in the lives of those in need.</p>
        </div>

        <!-- Confirmation Details -->
        <div class="card feature-card mb-5">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0"><i class="fas fa-receipt me-2"></i>Donation Confirmation</h4>
            </div>
            <div class="card-body">
                <div class="row text-start">
                    <div class="col-md-6 mb-3">
                        <strong><i class="fas fa-hashtag text-primary me-2"></i>Reference Number:</strong>
                        <br>
                        <span class="text-muted">DON-@(DateTime.Now.ToString("yyyyMMddHHmmss"))</span>
                    </div>
                    <div class="col-md-6 mb-3">
                        <strong><i class="fas fa-calendar text-primary me-2"></i>Donation Date:</strong>
                        <br>
                        <span class="text-muted">@DateTime.Now.ToString("MMMM dd, yyyy 'at' hh:mm tt")</span>
                    </div>
                    <div class="col-md-6 mb-3">
                        <strong><i class="fas fa-check-circle text-primary me-2"></i>Status:</strong>
                        <br>
                        <span class="badge bg-warning">Pending Collection</span>
                    </div>
                    <div class="col-md-6 mb-3">
                        <strong><i class="fas fa-envelope text-primary me-2"></i>Confirmation:</strong>
                        <br>
                        <span class="text-muted">Email confirmation sent</span>
                    </div>
                </div>
                
                <div class="alert alert-info mt-3">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Next Steps:</strong> Our team will contact you within 24-48 hours to arrange collection of your donation items.
                </div>
            </div>
        </div>

        <!-- Impact Section -->
        <div class="row mb-5">
            <div class="col-12">
                <h3 class="mb-4">Your Donation's Impact</h3>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card feature-card h-100 text-center">
                    <div class="card-body">
                        <i class="fas fa-utensils fa-3x text-primary mb-3"></i>
                        <h5>Provide Meals</h5>
                        <p class="card-text">Your donation can provide nutritious meals to families affected by disasters.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card feature-card h-100 text-center">
                    <div class="card-body">
                        <i class="fas fa-home fa-3x text-success mb-3"></i>
                        <h5>Shelter Support</h5>
                        <p class="card-text">Help provide temporary shelter and essential supplies to displaced families.</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4 mb-4">
                <div class="card feature-card h-100 text-center">
                    <div class="card-body">
                        <i class="fas fa-heartbeat fa-3x text-danger mb-3"></i>
                        <h5>Medical Aid</h5>
                        <p class="card-text">Support medical missions and provide healthcare to vulnerable communities.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Next Steps -->
        <div class="card feature-card mb-5">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="fas fa-list-alt me-2"></i>What Happens Next?</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 text-center mb-3">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" 
                             style="width: 50px; height: 50px;">
                            <strong>1</strong>
                        </div>
                        <h6>Collection Arranged</h6>
                        <small class="text-muted">We'll contact you to schedule pickup</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" 
                             style="width: 50px; height: 50px;">
                            <strong>2</strong>
                        </div>
                        <h6>Items Processed</h6>
                        <small class="text-muted">Donations sorted and prepared</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" 
                             style="width: 50px; height: 50px;">
                            <strong>3</strong>
                        </div>
                        <h6>Distribution</h6>
                        <small class="text-muted">Items delivered to those in need</small>
                    </div>
                    <div class="col-md-3 text-center mb-3">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" 
                             style="width: 50px; height: 50px;">
                            <strong>4</strong>
                        </div>
                        <h6>Impact Report</h6>
                        <small class="text-muted">See how your donation helped</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Call to Action Buttons -->
        <div class="row">
            <div class="col-md-4 mb-3">
                <a asp-controller="Donation" asp-action="Donate" class="btn btn-outline-primary w-100">
                    <i class="fas fa-gift me-2"></i>Make Another Donation
                </a>
            </div>
            <div class="col-md-4 mb-3">
                <a asp-controller="Home" asp-action="Index" class="btn btn-outline-success w-100">
                    <i class="fas fa-home me-2"></i>Return to Home
                </a>
            </div>
            <div class="col-md-4 mb-3">
                <a asp-controller="Volunteer" asp-action="Opportunities" class="btn btn-outline-info w-100">
                    <i class="fas fa-hands-helping me-2"></i>Volunteer Opportunities
                </a>
            </div>
        </div>

        <!-- Share Section -->
        <div class="card feature-card mt-5">
            <div class="card-body text-center">
                <h5 class="mb-3">Share the Impact</h5>
                <p class="text-muted mb-3">Inspire others to make a difference by sharing your donation experience.</p>
                <div class="d-flex justify-content-center gap-3">
                    <button class="btn btn-outline-primary btn-sm">
                        <i class="fab fa-facebook me-2"></i>Share
                    </button>
                    <button class="btn btn-outline-info btn-sm">
                        <i class="fab fa-twitter me-2"></i>Tweet
                    </button>
                    <button class="btn btn-outline-danger btn-sm">
                        <i class="fab fa-instagram me-2"></i>Share
                    </button>
                    <button class="btn btn-outline-success btn-sm">
                        <i class="fab fa-whatsapp me-2"></i>Share
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .success-animation {
        animation: bounceIn 1s ease-in-out;
    }

    .step-number {
        font-size: 1.2rem;
        font-weight: bold;
    }

    @@keyframes bounceIn {
        0% {
            transform: scale(0.3);
            opacity: 0;
        }
        50% {
            transform: scale(1.05);
            opacity: 1;
        }
        100% {
            transform: scale(1);
            opacity: 1;
        }
    }

    .card.feature-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card.feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
</style>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add confetti effect
            createConfetti();
            
            // Track donation conversion
            if (typeof gtag !== 'undefined') {
                gtag('event', 'donation_completed', {
                    'event_category': 'donation',
                    'event_label': 'resource_donation'
                });
            }
        });

        function createConfetti() {
            const colors = ['#28a745', '#17a2b8', '#ffc107', '#dc3545', '#6f42c1'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.cssText = `
                    position: fixed;
                    width: 10px;
                    height: 10px;
                    background-color: ${colors[Math.floor(Math.random() * colors.length)]};
                    top: -10px;
                    left: ${Math.random() * 100}%;
                    opacity: ${Math.random() * 0.5 + 0.5};
                    border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
                    pointer-events: none;
                    z-index: 9999;
                `;
                
                document.body.appendChild(confetti);
                
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${360 * (Math.random() > 0.5 ? 1 : -1)}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0.1, 0.8, 0.3, 1)'
                });
                
                animation.onfinish = () => confetti.remove();
            }
        }

        // Share buttons functionality
        document.querySelectorAll('.btn-outline-primary, .btn-outline-info, .btn-outline-danger, .btn-outline-success').forEach(btn => {
            btn.addEventListener('click', function() {
                const platform = this.querySelector('i').className.split(' ')[1].replace('fa-', '');
                let shareUrl = '';
                const shareText = 'I just made a donation to Gift Of The Givers! Join me in making a difference in the lives of those in need.';
                
                switch(platform) {
                    case 'facebook':
                        shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.origin)}&quote=${encodeURIComponent(shareText)}`;
                        break;
                    case 'twitter':
                        shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(window.location.origin)}`;
                        break;
                    case 'instagram':
                        // Instagram doesn't support direct sharing, open in new tab
                        shareUrl = 'https://www.instagram.com/';
                        break;
                    case 'whatsapp':
                        shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(shareText + ' ' + window.location.origin)}`;
                        break;
                }
                
                window.open(shareUrl, '_blank', 'width=600,height=400');
            });
        });
    </script>
}